class ze{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function zi(e){e.stopPropagation()}var ge=ze,xe={PROPERTYCHANGE:"propertychange"};class Ze{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}var Qe=Ze;function tn(e,t,n){let i,s;n=n||Ct;let r=0,o=e.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(e[i],t),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function Ct(e,t){return e>t?1:e<t?-1:0}function xi(e,t){return e<t?1:e>t?-1:0}function Zi(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=e[s];if(r===t)return s;if(r<t)return n(t,e[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function Qi(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function w(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function en(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function ts(e,t,n){const i=t||Ct;return e.every(function(s,r){if(r===0)return!0;const o=i(e[r-1],s);return!(o>0||n&&o===0)})}function es(){return!0}function ns(){return!1}function Jt(){}function nn(e){let t=!1,n,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==s||!en(r,i))&&(t=!0,s=this,i=r,n=e.apply(this,arguments)),n}}function is(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function de(e){for(const t in e)delete e[t]}function ye(e){let t;for(t in e)return!1;return!t}class sn extends Qe{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new ge(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let h=0,u=s.length;h<u;++h)if("handleEvent"in s[h]?l=s[h].handleEvent(r):l=s[h].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let h=a[i];for(delete a[i];h--;)this.removeEventListener(i,Jt);delete o[i]}return l}disposeInternal(){this.listeners_&&de(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){const i=this.listeners_&&this.listeners_[t];if(i){const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=Jt,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}}var rn=sn,Et={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function D(e,t,n,i,s){if(i&&i!==e&&(n=n.bind(i)),s){const o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}const r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function zt(e,t,n,i){return D(e,t,n,i,!0)}function H(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),de(e))}class nt extends rn{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Et.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=D(this,t[r],n);return s}return D(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=zt(this,t[r],n)}else i=zt(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)on(i);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}nt.prototype.on;nt.prototype.once;nt.prototype.un;function on(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)H(e[t]);else H(e)}function m(){throw new Error("Unimplemented abstract method.")}let an=0;function ln(e){return e.ol_uid||(e.ol_uid=String(++an))}const ss="8.1.0";class xt extends ge{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class hn extends nt{constructor(t){super(),this.on,this.once,this.un,ln(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new xt(i,t,n)),i=xe.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new xt(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const r=s[t];s[t]=n,r!==n&&this.notify(t,r)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){!t.values_||Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],ye(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}var me=hn;function _e(e,t){if(!e)throw new Error(t)}class vt extends me{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new vt(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(H(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=D(t,Et.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?un(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function un(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(_e(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}var cn=vt;const ht={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class fn{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ht[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var pe=fn;const W=6378137,L=Math.PI*W,gn=[-L,-L,L,L],dn=[-180,-85,180,85],q=W*Math.log(Math.tan(Math.PI/2));class I extends pe{constructor(t){super({code:t,units:"m",extent:gn,global:!0,worldExtent:dn,getPointResolution:function(n,i){return n/Math.cosh(i[1]/W)}})}}const Zt=[new I("EPSG:3857"),new I("EPSG:102100"),new I("EPSG:102113"),new I("EPSG:900913"),new I("http://www.opengis.net/def/crs/EPSG/0/3857"),new I("http://www.opengis.net/gml/srs/epsg.xml#3857")];function yn(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=L*e[s]/180;let r=W*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));r>q?r=q:r<-q&&(r=-q),t[s+1]=r}return t}function mn(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/L,t[s+1]=360*Math.atan(Math.exp(e[s+1]/W))/Math.PI-90;return t}const _n=6378137,Qt=[-180,-90,180,90],pn=Math.PI*_n/180;class F extends pe{constructor(t,n){super({code:t,units:"degrees",extent:Qt,axisOrientation:n,global:!0,metersPerUnit:pn,worldExtent:Qt})}}const te=[new F("CRS:84"),new F("EPSG:4326","neu"),new F("urn:ogc:def:crs:OGC:1.3:CRS84"),new F("urn:ogc:def:crs:OGC:2:84"),new F("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new F("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new F("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ut={};function Cn(e){return ut[e]||ut[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function En(e,t){ut[e]=t}let N={};function X(e,t,n){const i=e.getCode(),s=t.getCode();i in N||(N[i]={}),N[i][s]=n}function vn(e,t){let n;return e in N&&t in N[e]&&(n=N[e][t]),n}var C={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Rn(e){const t=j();for(let n=0,i=e.length;n<i;++n)wt(t,e[n]);return t}function wn(e,t,n){const i=Math.min.apply(null,e),s=Math.min.apply(null,t),r=Math.max.apply(null,e),o=Math.max.apply(null,t);return k(i,s,r,o,n)}function Mn(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Pn(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function P(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function Gn(e,t){return it(e,t[0],t[1])}function Ce(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function it(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function ct(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=t[0],a=t[1];let l=C.UNKNOWN;return o<n?l=l|C.LEFT:o>s&&(l=l|C.RIGHT),a<i?l=l|C.BELOW:a>r&&(l=l|C.ABOVE),l===C.UNKNOWN&&(l=C.INTERSECTING),l}function j(){return[1/0,1/0,-1/0,-1/0]}function k(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function G(e){return k(1/0,1/0,-1/0,-1/0,e)}function Ee(e,t){const n=e[0],i=e[1];return k(n,i,n,i,t)}function Fn(e,t){const n=G(t);return Mt(n,e)}function Rt(e,t,n,i,s){const r=G(s);return Pt(r,e,t,n,i)}function Sn(e,t){const n=G(t);return Re(n,e)}function An(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function bn(e,t,n){return Math.abs(e[0]-t[0])<n&&Math.abs(e[2]-t[2])<n&&Math.abs(e[1]-t[1])<n&&Math.abs(e[3]-t[3])<n}function ve(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function wt(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Mt(e,t){for(let n=0,i=t.length;n<i;++n)wt(e,t[n]);return e}function Pt(e,t,n,i,s){for(;n<i;n+=s)we(e,t[n],t[n+1]);return e}function Re(e,t){for(let n=0,i=t.length;n<i;++n)Mt(e,t[n]);return e}function we(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Me(e,t){let n;return n=t(Gt(e)),n||(n=t(Ft(e)),n)||(n=t(At(e)),n)||(n=t(St(e)),n)?n:!1}function Pe(e){let t=0;return st(e)||(t=R(e)*$(e)),t}function Gt(e){return[e[0],e[1]]}function Ft(e){return[e[2],e[1]]}function B(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function On(e,t){let n;if(t==="bottom-left")n=Gt(e);else if(t==="bottom-right")n=Ft(e);else if(t==="top-left")n=St(e);else if(t==="top-right")n=At(e);else throw new Error("Invalid corner");return n}function In(e,t){const n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),s=Math.max(e[2],t[2]),r=Math.max(e[3],t[3]);return(s-n)*(r-i)}function Tn(e,t,n,i,s){const[r,o,a,l,h,u,c,f]=Ge(e,t,n,i);return k(Math.min(r,a,h,c),Math.min(o,l,u,f),Math.max(r,a,h,c),Math.max(o,l,u,f),s)}function Ge(e,t,n,i){const s=t*i[0]/2,r=t*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,h=s*a,u=r*o,c=r*a,f=e[0],g=e[1];return[f-l+c,g-h-u,f-l-c,g-h+u,f+l-c,g+h+u,f+l+c,g+h-u,f-l+c,g-h-u]}function $(e){return e[3]-e[1]}function Ln(e,t){const n=Fe(e,t);return Pe(n)}function Fe(e,t,n){const i=n||j();return bt(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):G(i),i}function Nn(e){return R(e)+$(e)}function Xn(e){return[e[2]-e[0],e[3]-e[1]]}function St(e){return[e[0],e[3]]}function At(e){return[e[2],e[3]]}function R(e){return e[2]-e[0]}function bt(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function st(e){return e[2]<e[0]||e[3]<e[1]}function Se(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function jn(e,t){const n=(e[2]-e[0])/2*(t-1),i=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=i,e[3]+=i}function Ae(e,t,n){let i=!1;const s=ct(e,t),r=ct(e,n);if(s===C.INTERSECTING||r===C.INTERSECTING)i=!0;else{const o=e[0],a=e[1],l=e[2],h=e[3],u=t[0],c=t[1],f=n[0],g=n[1],d=(g-c)/(f-u);let y,_;!!(r&C.ABOVE)&&!(s&C.ABOVE)&&(y=f-(g-h)/d,i=y>=o&&y<=l),!i&&!!(r&C.RIGHT)&&!(s&C.RIGHT)&&(_=g-(f-l)*d,i=_>=a&&_<=h),!i&&!!(r&C.BELOW)&&!(s&C.BELOW)&&(y=f-(g-a)/d,i=y>=o&&y<=l),!i&&!!(r&C.LEFT)&&!(s&C.LEFT)&&(_=g-(f-o)*d,i=_>=a&&_<=h)}return i}function be(e,t,n,i){if(st(e))return G(n);let s=[];if(i>1){const a=e[2]-e[0],l=e[3]-e[1];for(let h=0;h<i;++h)s.push(e[0]+a*h/i,e[1],e[2],e[1]+l*h/i,e[2]-a*h/i,e[3],e[0],e[3]-l*h/i)}else s=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return wn(r,o,n)}function Oe(e,t){const n=t.getExtent(),i=B(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=R(n),o=Math.floor((i[0]-n[0])/s)*s;e[0]-=o,e[2]-=o}return e}function Yn(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];Oe(e,t);const i=R(n);if(R(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}var rs=Object.freeze(Object.defineProperty({__proto__:null,boundingExtent:Rn,buffer:Mn,clone:Pn,closestSquaredDistanceXY:P,containsCoordinate:Gn,containsExtent:Ce,containsXY:it,coordinateRelationship:ct,createEmpty:j,createOrUpdate:k,createOrUpdateEmpty:G,createOrUpdateFromCoordinate:Ee,createOrUpdateFromCoordinates:Fn,createOrUpdateFromFlatCoordinates:Rt,createOrUpdateFromRings:Sn,equals:An,approximatelyEquals:bn,extend:ve,extendCoordinate:wt,extendCoordinates:Mt,extendFlatCoordinates:Pt,extendRings:Re,extendXY:we,forEachCorner:Me,getArea:Pe,getBottomLeft:Gt,getBottomRight:Ft,getCenter:B,getCorner:On,getEnlargedArea:In,getForViewAndSize:Tn,getRotatedViewport:Ge,getHeight:$,getIntersectionArea:Ln,getIntersection:Fe,getMargin:Nn,getSize:Xn,getTopLeft:St,getTopRight:At,getWidth:R,intersects:bt,isEmpty:st,returnOrUpdate:Se,scaleFromCenter:jn,intersectsSegment:Ae,applyTransform:be,wrapX:Oe,wrapAndSliceX:Yn},Symbol.toStringTag,{value:"Module"}));function ee(e,t,n){return Math.min(Math.max(e,t),n)}function Un(e,t,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((e-n)*o+(t-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return A(e,t,n,i)}function A(e,t,n,i){const s=n-e,r=i-t;return s*s+r*r}function os(e){const t=e.length;for(let i=0;i<t;i++){let s=i,r=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=e[s];e[s]=e[i],e[i]=o;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let h=i;h<t+1;h++)i==h?e[a][h]=0:e[a][h]+=l*e[i][h]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function ne(e){return e*180/Math.PI}function U(e){return e*Math.PI/180}function Dn(e,t){const n=e%t;return n*t<0?n+t:n}function Ot(e,t,n){return e+n*(t-e)}function It(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function as(e,t){return Math.round(It(e,t))}function ls(e,t){return Math.floor(It(e,t))}function hs(e,t){return Math.ceil(It(e,t))}function us(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function cs(e,t){const n=t.getRadius(),i=t.getCenter(),s=i[0],r=i[1],o=e[0],a=e[1];let l=o-s;const h=a-r;l===0&&h===0&&(l=1);const u=Math.sqrt(l*l+h*h),c=s+n*l/u,f=r+n*h/u;return[c,f]}function $n(e,t){const n=e[0],i=e[1],s=t[0],r=t[1],o=s[0],a=s[1],l=r[0],h=r[1],u=l-o,c=h-a,f=u===0&&c===0?0:(u*(n-o)+c*(i-a))/(u*u+c*c||0);let g,d;return f<=0?(g=o,d=a):f>=1?(g=l,d=h):(g=o+f*u,d=a+f*c),[g,d]}function Wn(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function fs(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function gs(e,t){return e[0]*=t,e[1]*=t,e}function Ie(e,t){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function ds(e,t){return Math.sqrt(Ie(e,t))}function ys(e,t){return Ie(e,$n(e,t))}function ms(e,t){if(t.canWrapX()){const n=R(t.getExtent()),i=Te(e,t,n);i&&(e[0]-=i*n)}return e}function Te(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||R(i),s=Math.floor((e[0]-i[0])/n)),s}const Le=63710088e-1;function ie(e,t,n){n=n||Le;const i=U(e[1]),s=U(t[1]),r=(s-i)/2,o=U(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function kn(e,t,n,i){i=i||Le;const s=U(e[1]),r=U(e[0]),o=t/i,a=Math.asin(Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(n)),l=r+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(s),Math.cos(o)-Math.sin(s)*Math.sin(a));return[ne(l),ne(a)]}const Ne={info:1,warn:2,error:3,none:4};let Bn=Ne.info;function Kn(...e){Bn>Ne.warn||console.warn(...e)}let ft=!0;function _s(e){ft=!(e===void 0?!0:e)}function Tt(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Xe(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function qn(e){En(e.getCode(),e),X(e,e,Tt)}function Vn(e){e.forEach(qn)}function p(e){return typeof e=="string"?Cn(e):e||null}function ps(e,t,n,i){e=p(e);let s;const r=e.getPointResolutionFunc();if(r){if(s=r(t,n),i&&i!==e.getUnits()){const o=e.getMetersPerUnit();o&&(s=s*o/ht[i])}}else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=Lt(e,p("EPSG:4326"));if(a===Xe&&o!=="degrees")s=t*e.getMetersPerUnit();else{let h=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];h=a(h,h,2);const u=ie(h.slice(0,2),h.slice(2,4)),c=ie(h.slice(4,6),h.slice(6,8));s=(u+c)/2}const l=i?ht[i]:e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function se(e){Vn(e),e.forEach(function(t){e.forEach(function(n){t!==n&&X(t,n,Tt)})})}function Hn(e,t,n,i){e.forEach(function(s){t.forEach(function(r){X(s,r,n),X(r,s,i)})})}function Cs(e,t){return e?typeof e=="string"?p(e):e:p(t)}function re(e){return function(t,n,i){const s=t.length;i=i!==void 0?i:2,n=n!==void 0?n:new Array(s);for(let r=0;r<s;r+=i){const o=e(t.slice(r,r+i)),a=o.length;for(let l=0,h=i;l<h;++l)n[r+l]=l>=a?t[r+l]:o[l]}return n}}function Es(e,t,n,i){const s=p(e),r=p(t);X(s,r,re(n)),X(r,s,re(i))}function je(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Lt(e,t)===Tt)&&n}function Lt(e,t){const n=e.getCode(),i=t.getCode();let s=vn(n,i);return s||(s=Xe),s}function J(e,t){const n=p(e),i=p(t);return Lt(n,i)}function vs(e,t,n){return J(t,n)(e,void 0,e.length)}function Jn(e,t,n,i){const s=J(t,n);return be(e,s,void 0,i)}function Rs(e,t){return e}function ws(e,t){return ft&&!Wn(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(ft=!1,Kn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Ms(e,t){return e}function Ps(e,t){return e}function Gs(e,t){return e}function Fs(e,t,n){return function(i){let s,r;if(e.canWrapX()){const o=e.getExtent(),a=R(o);i=i.slice(0),r=Te(i,e,a),r&&(i[0]=i[0]-r*a),i[0]=ee(i[0],o[0],o[2]),i[1]=ee(i[1],o[1],o[3]),s=n(i)}else s=n(i);return r&&t.canWrapX()&&(s[0]+=r*R(t.getExtent())),s}}function zn(){se(Zt),se(te),Hn(te,Zt,yn,mn)}zn();class xn{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let i=n.dataProjection?p(n.dataProjection):this.readProjection(t);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=p(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return m()}readFeature(t,n){return m()}readFeatures(t,n){return m()}readGeometry(t,n){return m()}readProjection(t){return m()}writeFeature(t,n){return m()}writeFeatures(t,n){return m()}writeGeometry(t,n){return m()}}function Ye(e,t,n){const i=n?p(n.featureProjection):null,s=n?p(n.dataProjection):null;let r;if(i&&s&&!je(i,s)?r=(t?e.clone():e).transform(t?i:s,t?s:i):r=e,t&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),a=function(l){for(let h=0,u=l.length;h<u;++h)l[h]=Math.round(l[h]*o)/o;return l};r===e&&(r=e.clone()),r.applyTransform(a)}return r}function Ss(e,t){const n=t?p(t.featureProjection):null,i=t?p(t.dataProjection):null;return n&&i&&!je(n,i)?Jn(e,i,n):e}class Zn extends xn{constructor(){super()}getType(){return"json"}readFeature(t,n){return this.readFeatureFromObject(V(t),this.getReadOptions(t,n))}readFeatures(t,n){return this.readFeaturesFromObject(V(t),this.getReadOptions(t,n))}readFeatureFromObject(t,n){return m()}readFeaturesFromObject(t,n){return m()}readGeometry(t,n){return this.readGeometryFromObject(V(t),this.getReadOptions(t,n))}readGeometryFromObject(t,n){return m()}readProjection(t){return this.readProjectionFromObject(V(t))}readProjectionFromObject(t){return m()}writeFeature(t,n){return JSON.stringify(this.writeFeatureObject(t,n))}writeFeatureObject(t,n){return m()}writeFeatures(t,n){return JSON.stringify(this.writeFeaturesObject(t,n))}writeFeaturesObject(t,n){return m()}writeGeometry(t,n){return JSON.stringify(this.writeGeometryObject(t,n))}writeGeometryObject(t,n){return m()}}function V(e){if(typeof e=="string"){const t=JSON.parse(e);return t||null}return e!==null?e:null}var Qn=Zn;const M=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",As=M.includes("firefox"),ti=M.includes("safari")&&!M.includes("chrom"),bs=ti&&(M.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(M)),Os=M.includes("webkit")&&!M.includes("edge"),Is=M.includes("macintosh"),Ts=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,ei=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,Ls=typeof Image!="undefined"&&Image.prototype.decode,Ns=typeof createImageBitmap=="function",Xs=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),Nt=new Array(6);function ni(){return[1,0,0,1,0,0]}function js(e){return K(e,1,0,0,1,0,0)}function Xt(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=t[0],h=t[1],u=t[2],c=t[3],f=t[4],g=t[5];return e[0]=n*l+s*h,e[1]=i*l+r*h,e[2]=n*u+s*c,e[3]=i*u+r*c,e[4]=n*f+s*g+o,e[5]=i*f+r*g+a,e}function K(e,t,n,i,s,r,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e[4]=r,e[5]=o,e}function Ys(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Us(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function Ds(e,t){const n=Math.cos(t),i=Math.sin(t);return Xt(e,K(Nt,n,i,-i,n,0,0))}function $s(e,t,n){return Xt(e,K(Nt,t,0,0,n,0,0))}function Ws(e,t,n){return K(e,t,0,0,n,0,0)}function ks(e,t,n){return Xt(e,K(Nt,1,0,0,1,t,n))}function ii(e,t,n,i,s,r,o,a){const l=Math.sin(r),h=Math.cos(r);return e[0]=i*h,e[1]=s*l,e[2]=-i*l,e[3]=s*h,e[4]=o*i*h-a*i*l+t,e[5]=o*s*l+a*s*h+n,e}function Bs(e,t){const n=si(t);_e(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-s/n,e[2]=-r/n,e[3]=i/n,e[4]=(r*l-o*a)/n,e[5]=-(i*l-s*a)/n,e}function si(e){return e[0]*e[3]-e[1]*e[2]}let oe;function Ks(e){const t="matrix("+e.join(", ")+")";if(ei)return t;const n=oe||(oe=document.createElement("div"));return n.style.transform=t,n.style.transform}function Ue(e,t,n,i,s,r){r=r||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],h=e[a+1];r[o++]=s[0]*l+s[2]*h+s[4],r[o++]=s[1]*l+s[3]*h+s[5]}return r&&r.length!=o&&(r.length=o),r}function ri(e,t,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),h=r[0],u=r[1];let c=0;for(let f=t;f<n;f+=i){const g=e[f]-h,d=e[f+1]-u;o[c++]=h+g*a-d*l,o[c++]=u+g*l+d*a;for(let y=f+2;y<f+i;++y)o[c++]=e[y]}return o&&o.length!=c&&(o.length=c),o}function oi(e,t,n,i,s,r,o,a){a=a||[];const l=o[0],h=o[1];let u=0;for(let c=t;c<n;c+=i){const f=e[c]-l,g=e[c+1]-h;a[u++]=l+s*f,a[u++]=h+r*g;for(let d=c+2;d<c+i;++d)a[u++]=e[d]}return a&&a.length!=u&&(a.length=u),a}function ai(e,t,n,i,s,r,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+s,o[a++]=e[l+1]+r;for(let h=l+2;h<l+i;++h)o[a++]=e[h]}return o&&o.length!=a&&(o.length=a),o}const ae=ni();class li extends me{constructor(){super(),this.extent_=j(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=nn(function(t,n,i){if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return m()}closestPointXY(t,n,i,s){return m()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return m()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&G(n),this.extentRevision_=this.getRevision()}return Se(this.extent_,t)}rotate(t,n){m()}scale(t,n,i){m()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return m()}getType(){return m()}applyTransform(t){m()}intersectsExtent(t){return m()}translate(t,n){m()}transform(t,n){const i=p(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),h=i.getWorldExtent(),u=$(h)/$(l);return ii(ae,h[0],h[3],u,-u,0,0,0),Ue(r,0,r.length,a,ae,o),J(i,n)(r,o,a)}:J(i,n);return this.applyTransform(s),this}}var De=li;class hi extends De{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return Rt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return m()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=le(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){m()}setLayout(t,n,i){let s;if(t)s=le(t);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=ui(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();ri(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=B(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();oi(s,0,s.length,r,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();ai(i,0,i.length,s,t,n,i),this.changed()}}}function ui(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function le(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function qs(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const s=e.getStride();return Ue(i,0,i.length,s,t,n)}var O=hi;function he(e,t,n,i,s,r,o){const a=e[t],l=e[t+1],h=e[n]-a,u=e[n+1]-l;let c;if(h===0&&u===0)c=t;else{const f=((s-a)*h+(r-l)*u)/(h*h+u*u);if(f>1)c=n;else if(f>0){for(let g=0;g<i;++g)o[g]=Ot(e[t+g],e[n+g],f);o.length=i;return}else c=t}for(let f=0;f<i;++f)o[f]=e[c+f];o.length=i}function jt(e,t,n,i,s){let r=e[t],o=e[t+1];for(t+=i;t<n;t+=i){const a=e[t],l=e[t+1],h=A(r,o,a,l);h>s&&(s=h),r=a,o=l}return s}function Yt(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=jt(e,t,a,i,s),t=a}return s}function ci(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=Yt(e,t,a,i,s),t=a[a.length-1]}return s}function Ut(e,t,n,i,s,r,o,a,l,h,u){if(t==n)return h;let c,f;if(s===0){if(f=A(o,a,e[t],e[t+1]),f<h){for(c=0;c<i;++c)l[c]=e[t+c];return l.length=i,f}return h}u=u||[NaN,NaN];let g=t+i;for(;g<n;)if(he(e,g-i,g,i,o,a,u),f=A(o,a,u[0],u[1]),f<h){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(h))/s|0,1);if(r&&(he(e,n-i,t,i,o,a,u),f=A(o,a,u[0],u[1]),f<h)){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i}return h}function Dt(e,t,n,i,s,r,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=n.length;c<f;++c){const g=n[c];h=Ut(e,t,g,i,s,r,o,a,l,h,u),t=g}return h}function fi(e,t,n,i,s,r,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=n.length;c<f;++c){const g=n[c];h=Dt(e,t,g,i,s,r,o,a,l,h,u),t=g[g.length-1]}return h}function gi(e,t,n,i){for(let s=0,r=n.length;s<r;++s)e[t++]=n[s];return t}function rt(e,t,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function $t(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=rt(e,t,n[o],i);s[r++]=l,t=l}return s.length=r,s}function di(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=$t(e,t,n[o],i,s[r]);l.length===0&&(l[0]=t),s[r++]=l,t=l[l.length-1]}return s.length=r,s}function Wt(e,t,n,i,s,r,o){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)r[o++]=e[t],r[o++]=e[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const h=[t,n-i];let u=0;for(;h.length>0;){const c=h.pop(),f=h.pop();let g=0;const d=e[f],y=e[f+1],_=e[c],v=e[c+1];for(let E=f+i;E<c;E+=i){const lt=e[E],Y=e[E+1],Ht=Un(lt,Y,d,y,_,v);Ht>g&&(u=E,g=Ht)}g>s&&(l[(u-t)/i]=1,f+i<u&&h.push(f,u),u+i<c&&h.push(u,c))}for(let c=0;c<a;++c)l[c]&&(r[o++]=e[t+c*i],r[o++]=e[t+c*i+1]);return o}function yi(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=Wt(e,t,u,i,s,r,o),a.push(o),t=u}return o}function T(e,t){return t*Math.round(e/t)}function mi(e,t,n,i,s,r,o){if(t==n)return o;let a=T(e[t],s),l=T(e[t+1],s);t+=i,r[o++]=a,r[o++]=l;let h,u;do if(h=T(e[t],s),u=T(e[t+1],s),t+=i,t==n)return r[o++]=h,r[o++]=u,o;while(h==a&&u==l);for(;t<n;){const c=T(e[t],s),f=T(e[t+1],s);if(t+=i,c==h&&f==u)continue;const g=h-a,d=u-l,y=c-a,_=f-l;if(g*_==d*y&&(g<0&&y<g||g==y||g>0&&y>g)&&(d<0&&_<d||d==_||d>0&&_>d)){h=c,u=f;continue}r[o++]=h,r[o++]=u,a=h,l=u,h=c,u=f}return r[o++]=h,r[o++]=u,o}function $e(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=mi(e,t,u,i,s,r,o),a.push(o),t=u}return o}function _i(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l],c=[];o=$e(e,t,u,i,s,r,o,c),a.push(c),t=u[u.length-1]}return o}function We(e,t,n,i,s){let r;for(t+=i;t<n;t+=i)if(r=s(e.slice(t-i,t),e.slice(t,t+i)),r)return r;return!1}function ot(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=t;o<n;o+=i)s[r++]=e.slice(o,o+i);return s.length=r,s}function kt(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=ot(e,t,l,i,s[r]),t=l}return s.length=r,s}function pi(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=l.length===1&&l[0]===t?[]:kt(e,t,l,i,s[r]),t=l[l.length-1]}return s.length=r,s}function ke(e,t,n,i,s,r,o){let a,l;const h=(n-t)/i;if(h===1)a=t;else if(h===2)a=t,l=s;else if(h!==0){let u=e[t],c=e[t+1],f=0;const g=[0];for(let _=t+i;_<n;_+=i){const v=e[_],E=e[_+1];f+=Math.sqrt((v-u)*(v-u)+(E-c)*(E-c)),g.push(f),u=v,c=E}const d=s*f,y=tn(g,d);y<0?(l=(d-g[-y-2])/(g[-y-1]-g[-y-2]),a=t+(-y-2)*i):a=t+y*i}o=o>1?o:2,r=r||new Array(o);for(let u=0;u<o;++u)r[u]=a===void 0?NaN:l===void 0?e[a+u]:Ot(e[a+u],e[a+i+u],l);return r}function gt(e,t,n,i,s,r){if(n==t)return null;let o;if(s<e[t+i-1])return r?(o=e.slice(t,t+i),o[i-1]=s,o):null;if(e[n-1]<s)return r?(o=e.slice(n-i,n),o[i-1]=s,o):null;if(s==e[t+i-1])return e.slice(t,t+i);let a=t/i,l=n/i;for(;a<l;){const f=a+l>>1;s<e[(f+1)*i-1]?l=f:a=f+1}const h=e[a*i-1];if(s==h)return e.slice((a-1)*i,(a-1)*i+i);const u=e[(a+1)*i-1],c=(s-h)/(u-h);o=[];for(let f=0;f<i-1;++f)o.push(Ot(e[(a-1)*i+f],e[a*i+f],c));return o.push(s),o}function Ci(e,t,n,i,s,r,o){if(o)return gt(e,t,n[n.length-1],i,s,r);let a;if(s<e[i-1])return r?(a=e.slice(0,i),a[i-1]=s,a):null;if(e[e.length-1]<s)return r?(a=e.slice(e.length-i),a[i-1]=s,a):null;for(let l=0,h=n.length;l<h;++l){const u=n[l];if(t!=u){if(s<e[t+i-1])return null;if(s<=e[u-1])return gt(e,t,u,i,s,!1);t=u}}return null}function Ei(e,t,n,i,s){return!Me(s,function(o){return!S(e,t,n,i,o[0],o[1])})}function S(e,t,n,i,s,r){let o=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const h=e[t],u=e[t+1];l<=r?u>r&&(h-a)*(r-l)-(s-a)*(u-l)>0&&o++:u<=r&&(h-a)*(r-l)-(s-a)*(u-l)<0&&o--,a=h,l=u}return o!==0}function Bt(e,t,n,i,s,r){if(n.length===0||!S(e,t,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(S(e,n[o-1],n[o],i,s,r))return!1;return!0}function vi(e,t,n,i,s,r){if(n.length===0)return!1;for(let o=0,a=n.length;o<a;++o){const l=n[o];if(Bt(e,t,l,i,s,r))return!0;t=l[l.length-1]}return!1}function at(e,t,n,i,s){const r=Pt(j(),e,t,n,i);return bt(s,r)?Ce(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:We(e,t,n,i,function(o,a){return Ae(s,o,a)}):!1}function Ri(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){if(at(e,t,n[r],i,s))return!0;t=n[r]}return!1}function wi(e,t,n,i,s){return!!(at(e,t,n,i,s)||S(e,t,n,i,s[0],s[1])||S(e,t,n,i,s[0],s[3])||S(e,t,n,i,s[2],s[1])||S(e,t,n,i,s[2],s[3]))}function Be(e,t,n,i,s){if(!wi(e,t,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,o=n.length;r<o;++r)if(Ei(e,n[r-1],n[r],i,s)&&!at(e,n[r-1],n[r],i,s))return!1;return!0}function Mi(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];if(Be(e,t,a,i,s))return!0;t=a[a.length-1]}return!1}function Pi(e,t,n,i){let s=e[t],r=e[t+1],o=0;for(let a=t+i;a<n;a+=i){const l=e[a],h=e[a+1];o+=Math.sqrt((l-s)*(l-s)+(h-r)*(h-r)),s=l,r=h}return o}class z extends O{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){this.flatCoordinates?w(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new z(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<P(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ut(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,i,s))}forEachSegment(t){return We(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,gt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return ke(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return Pi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new z(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return at(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rt(this.flatCoordinates,0,t,this.stride),this.changed()}}var dt=z;function Ke(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=o*a-r*l,r=a,o=l}return s/2}function qe(e,t,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=Ke(e,t,a,i),t=a}return s}function Gi(e,t,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=qe(e,t,a,i),t=a[a.length-1]}return s}class x extends O{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new x(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,s){return s<P(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ut(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,s))}getArea(){return Ke(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new x(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rt(this.flatCoordinates,0,t,this.stride),this.changed()}}var ue=x;class Z extends O{constructor(t,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,t),this.ends_=i;else{let s=this.getLayout();const r=t,o=[],a=[];for(let l=0,h=r.length;l<h;++l){const u=r[l];l===0&&(s=u.getLayout()),w(o,u.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(t){this.flatCoordinates?w(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Z(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<P(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,i,s))}getCoordinateAtM(t,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,Ci(this.flatCoordinates,0,this.ends_,this.stride,t,n,i))}getCoordinates(){return kt(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new dt(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,n=this.ends_,i=this.layout,s=[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],h=new dt(t.slice(r,l),i);s.push(h),r=l}return s}getFlatMidpoints(){const t=[],n=this.flatCoordinates;let i=0;const s=this.ends_,r=this.stride;for(let o=0,a=s.length;o<a;++o){const l=s[o],h=ke(n,i,l,r,.5);w(t,h),i=l}return t}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=yi(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new Z(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return Ri(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=$t(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var Fi=Z;class Kt extends O{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Kt(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const r=this.flatCoordinates,o=A(t,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return Ee(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return it(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gi(this.flatCoordinates,0,t,this.stride),this.changed()}}var Q=Kt;class qt extends O{constructor(t,n){super(),n&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendPoint(t){this.flatCoordinates?w(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new qt(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){if(s<P(this.getExtent(),t,n))return s;const r=this.flatCoordinates,o=this.stride;for(let a=0,l=r.length;a<l;a+=o){const h=A(t,n,r[a],r[a+1]);if(h<s){s=h;for(let u=0;u<o;++u)i[u]=r[a+u];i.length=o}}return s}getCoordinates(){return ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||n<=t?null:new Q(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,n=this.layout,i=this.stride,s=[];for(let r=0,o=t.length;r<o;r+=i){const a=new Q(t.slice(r,r+i),n);s.push(a)}return s}getType(){return"MultiPoint"}intersectsExtent(t){const n=this.flatCoordinates,i=this.stride;for(let s=0,r=n.length;s<r;s+=i){const o=n[s],a=n[s+1];if(it(t,o,a))return!0}return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rt(this.flatCoordinates,0,t,this.stride),this.changed()}}var Ve=qt;function He(e,t,n,i,s,r,o){let a,l,h,u,c,f,g;const d=s[r+1],y=[];for(let E=0,lt=n.length;E<lt;++E){const Y=n[E];for(u=e[Y-i],f=e[Y-i+1],a=t;a<Y;a+=i)c=e[a],g=e[a+1],(d<=f&&g<=d||f<=d&&d<=g)&&(h=(d-f)/(g-f)*(c-u)+u,y.push(h)),u=c,f=g}let _=NaN,v=-1/0;for(y.sort(Ct),u=y[0],a=1,l=y.length;a<l;++a){c=y[a];const E=Math.abs(c-u);E>v&&(h=(u+c)/2,Bt(e,t,n,i,h,d)&&(_=h,v=E)),u=c}return isNaN(_)&&(_=s[r]),o?(o.push(_,d,v),o):[_,d,v]}function Si(e,t,n,i,s){let r=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];r=He(e,t,l,i,s,2*o,r),t=l[l.length-1]}return r}function Ai(e,t,n,i){for(;t<n-i;){for(let s=0;s<i;++s){const r=e[t+s];e[t+s]=e[n-i+s],e[n-i+s]=r}t+=i,n-=i}}function Vt(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function Je(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Vt(e,t,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;t=a}return!0}function bi(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];if(!Je(e,t,a,i,s))return!1;a.length&&(t=a[a.length-1])}return!0}function yt(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Vt(e,t,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&Ai(e,t,a,i),t=a}return t}function ce(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r)t=yt(e,t,n[r],i,s);return t}function Vs(e,t){const n=[];let i=0,s=0;for(let r=0,o=t.length;r<o;++r){const a=t[r];if(!Vt(e,i,a,2))n.push(t.slice(s,r+1));else{if(n.length===0)continue;n[n.length-1].push(t[s])}s=r+1,i=a}return n}class b extends O{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?w(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new b(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<P(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return Bt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return qe(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),yt(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,kt(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=B(this.getExtent());this.flatInteriorPoint_=He(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Q(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new ue(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],h=new ue(n.slice(r,l),t);s.push(h),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Je(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=yt(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=$e(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new b(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return Be(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=$t(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var mt=b;function Hs(e,t,n,i){n=n||32;const s=[];for(let r=0;r<n;++r)w(s,kn(e,t,2*Math.PI*r/n,i));return s.push(s[0],s[1]),new b(s,"XY",[s.length])}function Js(e){if(st(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],s=e[3],r=[t,n,t,s,i,s,i,n,t,n];return new b(r,"XY",[r.length])}function zs(e,t,n){t=t||32;const i=e.getStride(),s=e.getLayout(),r=e.getCenter(),o=i*(t+1),a=new Array(o);for(let u=0;u<o;u+=i){a[u]=0,a[u+1]=0;for(let c=2;c<i;c++)a[u+c]=r[c]}const l=[a.length],h=new b(a,s,l);return Oi(h,r,e.getRadius(),n),h}function Oi(e,t,n,i){const s=e.getFlatCoordinates(),r=e.getStride(),o=s.length/r-1,a=i||0;for(let l=0;l<=o;++l){const h=l*r,u=a+Dn(l,o)*2*Math.PI/o;s[h]=t[0]+n*Math.cos(u),s[h+1]=t[1]+n*Math.sin(u)}e.changed()}function Ii(e,t,n,i){const s=[];let r=j();for(let o=0,a=n.length;o<a;++o){const l=n[o];r=Rt(e,t,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=l[l.length-1]}return s}class tt extends O{constructor(t,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let s=this.getLayout();const r=t,o=[],a=[];for(let l=0,h=r.length;l<h;++l){const u=r[l];l===0&&(s=u.getLayout());const c=o.length,f=u.getEnds();for(let g=0,d=f.length;g<d;++g)f[g]+=c;w(o,u.getFlatCoordinates()),a.push(f)}n=s,t=o,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,t),this.endss_=i):this.setCoordinates(t,n)}appendPolygon(t){let n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;w(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(let s=0,r=n.length;s<r;++s)n[s]+=i}this.endss_.push(n),this.changed()}clone(){const t=this.endss_.length,n=new Array(t);for(let s=0;s<t;++s)n[s]=this.endss_[s].slice();const i=new tt(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(t,n,i,s){return s<P(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ci(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),fi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return vi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)}getArea(){return Gi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),ce(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,pi(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=Ii(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Si(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ve(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;bi(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ce(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=_i(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new tt(n,"XY",i)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let n;if(t===0)n=0;else{const r=this.endss_[t-1];n=r[r.length-1]}const i=this.endss_[t].slice(),s=i[i.length-1];if(n!==0)for(let r=0,o=i.length;r<o;++r)i[r]-=n;return new mt(this.flatCoordinates.slice(n,s),this.layout,i)}getPolygons(){const t=this.layout,n=this.flatCoordinates,i=this.endss_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o].slice(),h=l[l.length-1];if(r!==0)for(let c=0,f=l.length;c<f;++c)l[c]-=r;const u=new mt(n.slice(r,h),t,l);s.push(u),r=h}return s}getType(){return"MultiPolygon"}intersectsExtent(t){return Mi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=di(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const s=i[i.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}var Ti=tt;class et extends De{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(H),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(!!this.geometries_)for(let t=0,n=this.geometries_.length;t<n;++t)this.changeEventsKeys_.push(D(this.geometries_[t],Et.CHANGE,this.changed,this))}clone(){const t=new et(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,n,i,s){if(s<P(this.getExtent(),t,n))return s;const r=this.geometries_;for(let o=0,a=r.length;o<a;++o)s=r[o].closestPointXY(t,n,i,s);return s}containsXY(t,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)if(i[s].containsXY(t,n))return!0;return!1}computeExtent(t){G(t);const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)ve(t,n[i].getExtent());return t}getGeometries(){return fe(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].getType()===this.getType()?t=t.concat(n[i].getGeometriesArrayRecursive()):t.push(n[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let s=!1;for(let r=0,o=i.length;r<o;++r){const a=i[r],l=a.getSimplifiedGeometry(t);n.push(l),l!==a&&(s=!0)}if(s){const r=new et(null);return r.setGeometriesArray(n),r}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)if(n[i].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)i[s].rotate(t,n);this.changed()}scale(t,n,i){i||(i=B(this.getExtent()));const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)s[r].scale(t,n,i);this.changed()}setGeometries(t){this.setGeometriesArray(fe(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].applyTransform(t);this.changed()}translate(t,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)i[s].translate(t,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function fe(e){const t=[];for(let n=0,i=e.length;n<i;++n)t.push(e[n].clone());return t}var Li=et;class Ni extends Qn{constructor(t){t=t||{},super(),this.dataProjection=p(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=p(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,n){let i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};const s=_t(i.geometry,n),r=new cn;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&r.setGeometryName(i.geometry_name),r.setGeometry(s),"id"in i&&r.setId(i.id),i.properties&&r.setProperties(i.properties,!0),r}readFeaturesFromObject(t,n){const i=t;let s=null;if(i.type==="FeatureCollection"){const r=t;s=[];const o=r.features;for(let a=0,l=o.length;a<l;++a)s.push(this.readFeatureFromObject(o[a],n))}else s=[this.readFeatureFromObject(t,n)];return s}readGeometryFromObject(t,n){return _t(t,n)}readProjectionFromObject(t){const n=t.crs;let i;if(n)if(n.type=="name")i=p(n.properties.name);else if(n.type==="EPSG")i=p("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(t,n){n=this.adaptOptions(n);const i={type:"Feature",geometry:null,properties:null},s=t.getId();if(s!==void 0&&(i.id=s),!t.hasProperties())return i;const r=t.getProperties(),o=t.getGeometry();return o&&(i.geometry=pt(o,n),delete r[t.getGeometryName()]),ye(r)||(i.properties=r),i}writeFeaturesObject(t,n){n=this.adaptOptions(n);const i=[];for(let s=0,r=t.length;s<r;++s)i.push(this.writeFeatureObject(t[s],n));return{type:"FeatureCollection",features:i}}writeGeometryObject(t,n){return pt(t,this.adaptOptions(n))}}function _t(e,t){if(!e)return null;let n;switch(e.type){case"Point":{n=ji(e);break}case"LineString":{n=Yi(e);break}case"Polygon":{n=Wi(e);break}case"MultiPoint":{n=Di(e);break}case"MultiLineString":{n=Ui(e);break}case"MultiPolygon":{n=$i(e);break}case"GeometryCollection":{n=Xi(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return Ye(n,!1,t)}function Xi(e,t){const n=e.geometries.map(function(i){return _t(i,t)});return new Li(n)}function ji(e){return new Q(e.coordinates)}function Yi(e){return new dt(e.coordinates)}function Ui(e){return new Fi(e.coordinates)}function Di(e){return new Ve(e.coordinates)}function $i(e){return new Ti(e.coordinates)}function Wi(e){return new mt(e.coordinates)}function pt(e,t){e=Ye(e,!0,t);const n=e.getType();let i;switch(n){case"Point":{i=Hi(e);break}case"LineString":{i=Bi(e);break}case"Polygon":{i=Ji(e,t);break}case"MultiPoint":{i=qi(e);break}case"MultiLineString":{i=Ki(e);break}case"MultiPolygon":{i=Vi(e,t);break}case"GeometryCollection":{i=ki(e,t);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return i}function ki(e,t){t=Object.assign({},t),delete t.featureProjection;const n=e.getGeometriesArray().map(function(i){return pt(i,t)});return{type:"GeometryCollection",geometries:n}}function Bi(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function Ki(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function qi(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Vi(e,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function Hi(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function Ji(e,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var xs=Ni;export{Vs as $,bt as A,Me as B,Ns as C,gi as D,Et as E,cn as F,De as G,ri as H,Ls as I,Qn as J,Ee as K,dt as L,Fi as M,Rt as N,B as O,Q as P,He as Q,Ii as R,O as S,Si as T,ke as U,$ as V,ei as W,ii as X,Ue as Y,ni as Z,pe as _,Ve as a,os as a$,le as a0,ot as a1,Rn as a2,xs as a3,Gs as a4,Ps as a5,Ms as a6,es as a7,Os as a8,Is as a9,Xs as aA,en as aB,gs as aC,As as aD,Ts as aE,Us as aF,An as aG,G as aH,Pn as aI,Kn as aJ,qn as aK,vn as aL,se as aM,Es as aN,Fs as aO,J as aP,St as aQ,At as aR,Ft as aS,Gt as aT,Pe as aU,wt as aV,j as aW,vs as aX,ps as aY,Gn as aZ,ve as a_,ns as aa,Xe as ab,Lt as ac,Hs as ad,ge as ae,Zi as af,R as ag,Cs as ah,ws as ai,Dn as aj,fs as ak,us as al,Rs as am,Tn as an,st as ao,Js as ap,Jt as aq,Wn as ar,ht as as,_s as at,D as au,Qe as av,Bs as aw,ms as ax,xe as ay,Fe as az,Ti as b,ts as b0,wi as b1,hs as b2,ls as b3,On as b4,je as b5,be as b6,Yn as b7,Mn as b8,as as b9,zi as bA,on as bB,ie as bC,Jn as bD,Ie as bE,ds as bF,A as bG,$n as bH,ys as bI,cs as bJ,zs as bK,rs as bL,nt as ba,Ks as bb,Ge as bc,Ct as bd,ct as be,C as bf,kt as bg,pi as bh,Qi as bi,T as bj,Ot as bk,Ys as bl,Pi as bm,It as bn,qs as bo,Ws as bp,Oe as bq,Xt as br,ss as bs,bs as bt,ks as bu,js as bv,$s as bw,Ds as bx,xi as by,jn as bz,Ce as c,rt as d,mt as e,w as f,p as g,xn as h,ye as i,m as j,Ss as k,Vt as l,k as m,_e as n,ue as o,ee as p,zt as q,rn as r,is as s,Ye as t,H as u,ln as v,me as w,de as x,Li as y,U as z};
