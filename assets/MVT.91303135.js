class nn{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function cs(e){e.stopPropagation()}var Pe=nn,sn={PROPERTYCHANGE:"propertychange"};class rn{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}var on=rn;function an(e,t,n){let i,s;n=n||Mt;let r=0,o=e.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(e[i],t),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function Mt(e,t){return e>t?1:e<t?-1:0}function fs(e,t){return e<t?1:e>t?-1:0}function ds(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=e[s];if(r===t)return s;if(r<t)return n(t,e[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function gs(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function x(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function ln(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function ps(e,t,n){const i=t||Mt;return e.every(function(s,r){if(r===0)return!0;const o=i(e[r-1],s);return!(o>0||n&&o===0)})}function ys(){return!0}function _s(){return!1}function ne(){}function hn(e){let t=!1,n,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==s||!ln(r,i))&&(t=!0,s=this,i=r,n=e.apply(this,arguments)),n}}function Cs(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Re(e){for(const t in e)delete e[t]}function un(e){let t;for(t in e)return!1;return!t}class cn extends on{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new Pe(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let h=0,u=s.length;h<u;++h)if("handleEvent"in s[h]?l=s[h].handleEvent(r):l=s[h].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let h=a[i];for(delete a[i];h--;)this.removeEventListener(i,ne);delete o[i]}return l}disposeInternal(){this.listeners_&&Re(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){const i=this.listeners_&&this.listeners_[t];if(i){const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=ne,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}}var fn=cn,dn={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function gt(e,t,n,i,s){if(i&&i!==e&&(n=n.bind(i)),s){const o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}const r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function ie(e,t,n,i){return gt(e,t,n,i,!0)}function se(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Re(e))}class ot extends fn{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(dn.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=gt(this,t[r],n);return s}return gt(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=ie(this,t[r],n)}else i=ie(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)gn(i);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}ot.prototype.on;ot.prototype.once;ot.prototype.un;function gn(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)se(e[t]);else se(e)}function C(){throw new Error("Unimplemented abstract method.")}let pn=0;function yn(e){return e.ol_uid||(e.ol_uid=String(++pn))}const ws="8.1.0";class re extends Pe{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class _n extends ot{constructor(t){super(),this.on,this.once,this.un,yn(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new re(i,t,n)),i=sn.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new re(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const r=s[t];s[t]=n,r!==n&&this.notify(t,r)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){!t.values_||Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],un(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}var Cn=_n;function wn(e,t){if(!e)throw new Error(t)}const pt={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Fn{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||pt[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var Pt=Fn;const b=6378137,D=Math.PI*b,En=[-D,-D,D,D],vn=[-180,-85,180,85],z=b*Math.log(Math.tan(Math.PI/2));class G extends Pt{constructor(t){super({code:t,units:"m",extent:En,global:!0,worldExtent:vn,getPointResolution:function(n,i){return n/Math.cosh(i[1]/b)}})}}const oe=[new G("EPSG:3857"),new G("EPSG:102100"),new G("EPSG:102113"),new G("EPSG:900913"),new G("http://www.opengis.net/def/crs/EPSG/0/3857"),new G("http://www.opengis.net/gml/srs/epsg.xml#3857")];function xn(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n){t[s]=D*e[s]/180;let r=b*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));r>z?r=z:r<-z&&(r=-z),t[s+1]=r}return t}function Mn(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let s=0;s<i;s+=n)t[s]=180*e[s]/D,t[s+1]=360*Math.atan(Math.exp(e[s+1]/b))/Math.PI-90;return t}const Pn=6378137,ae=[-180,-90,180,90],Rn=Math.PI*Pn/180;class m extends Pt{constructor(t,n){super({code:t,units:"degrees",extent:ae,axisOrientation:n,global:!0,metersPerUnit:Rn,worldExtent:ae})}}const le=[new m("CRS:84"),new m("EPSG:4326","neu"),new m("urn:ogc:def:crs:OGC:1.3:CRS84"),new m("urn:ogc:def:crs:OGC:2:84"),new m("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new m("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new m("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let yt={};function mn(e){return yt[e]||yt[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Sn(e,t){yt[e]=t}let Y={};function U(e,t,n){const i=e.getCode(),s=t.getCode();i in Y||(Y[i]={}),Y[i][s]=n}function Tn(e,t){let n;return e in Y&&t in Y[e]&&(n=Y[e][t]),n}var w={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function In(e){const t=j();for(let n=0,i=e.length;n<i;++n)mt(t,e[n]);return t}function An(e,t,n){const i=Math.min.apply(null,e),s=Math.min.apply(null,t),r=Math.max.apply(null,e),o=Math.max.apply(null,t);return q(i,s,r,o,n)}function Ln(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Xn(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function L(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function Vn(e,t){return at(e,t[0],t[1])}function me(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function at(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function _t(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=t[0],a=t[1];let l=w.UNKNOWN;return o<n?l=l|w.LEFT:o>s&&(l=l|w.RIGHT),a<i?l=l|w.BELOW:a>r&&(l=l|w.ABOVE),l===w.UNKNOWN&&(l=w.INTERSECTING),l}function j(){return[1/0,1/0,-1/0,-1/0]}function q(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function X(e){return q(1/0,1/0,-1/0,-1/0,e)}function Rt(e,t){const n=e[0],i=e[1];return q(n,i,n,i,t)}function Gn(e,t){const n=X(t);return St(n,e)}function lt(e,t,n,i,s){const r=X(s);return Tt(r,e,t,n,i)}function Nn(e,t){const n=X(t);return Se(n,e)}function On(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Bn(e,t,n){return Math.abs(e[0]-t[0])<n&&Math.abs(e[2]-t[2])<n&&Math.abs(e[1]-t[1])<n&&Math.abs(e[3]-t[3])<n}function Dn(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function mt(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function St(e,t){for(let n=0,i=t.length;n<i;++n)mt(e,t[n]);return e}function Tt(e,t,n,i,s){for(;n<i;n+=s)Te(e,t[n],t[n+1]);return e}function Se(e,t){for(let n=0,i=t.length;n<i;++n)St(e,t[n]);return e}function Te(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Ie(e,t){let n;return n=t(It(e)),n||(n=t(At(e)),n)||(n=t(Xt(e)),n)||(n=t(Lt(e)),n)?n:!1}function Ae(e){let t=0;return ht(e)||(t=M(e)*I(e)),t}function It(e){return[e[0],e[1]]}function At(e){return[e[2],e[1]]}function H(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Yn(e,t){let n;if(t==="bottom-left")n=It(e);else if(t==="bottom-right")n=At(e);else if(t==="top-left")n=Lt(e);else if(t==="top-right")n=Xt(e);else throw new Error("Invalid corner");return n}function Un(e,t){const n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),s=Math.max(e[2],t[2]),r=Math.max(e[3],t[3]);return(s-n)*(r-i)}function jn(e,t,n,i,s){const[r,o,a,l,h,u,c,f]=Le(e,t,n,i);return q(Math.min(r,a,h,c),Math.min(o,l,u,f),Math.max(r,a,h,c),Math.max(o,l,u,f),s)}function Le(e,t,n,i){const s=t*i[0]/2,r=t*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,h=s*a,u=r*o,c=r*a,f=e[0],d=e[1];return[f-l+c,d-h-u,f-l-c,d-h+u,f+l-c,d+h+u,f+l+c,d+h-u,f-l+c,d-h-u]}function I(e){return e[3]-e[1]}function kn(e,t){const n=Xe(e,t);return Ae(n)}function Xe(e,t,n){const i=n||j();return Vt(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):X(i),i}function $n(e){return M(e)+I(e)}function Wn(e){return[e[2]-e[0],e[3]-e[1]]}function Lt(e){return[e[0],e[3]]}function Xt(e){return[e[2],e[3]]}function M(e){return e[2]-e[0]}function Vt(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function ht(e){return e[2]<e[0]||e[3]<e[1]}function Ve(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function bn(e,t){const n=(e[2]-e[0])/2*(t-1),i=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=i,e[3]+=i}function Ge(e,t,n){let i=!1;const s=_t(e,t),r=_t(e,n);if(s===w.INTERSECTING||r===w.INTERSECTING)i=!0;else{const o=e[0],a=e[1],l=e[2],h=e[3],u=t[0],c=t[1],f=n[0],d=n[1],g=(d-c)/(f-u);let p,_;!!(r&w.ABOVE)&&!(s&w.ABOVE)&&(p=f-(d-h)/g,i=p>=o&&p<=l),!i&&!!(r&w.RIGHT)&&!(s&w.RIGHT)&&(_=d-(f-l)*g,i=_>=a&&_<=h),!i&&!!(r&w.BELOW)&&!(s&w.BELOW)&&(p=f-(d-a)/g,i=p>=o&&p<=l),!i&&!!(r&w.LEFT)&&!(s&w.LEFT)&&(_=d-(f-o)*g,i=_>=a&&_<=h)}return i}function Ne(e,t,n,i){if(ht(e))return X(n);let s=[];if(i>1){const a=e[2]-e[0],l=e[3]-e[1];for(let h=0;h<i;++h)s.push(e[0]+a*h/i,e[1],e[2],e[1]+l*h/i,e[2]-a*h/i,e[3],e[0],e[3]-l*h/i)}else s=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return An(r,o,n)}function Oe(e,t){const n=t.getExtent(),i=H(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=M(n),o=Math.floor((i[0]-n[0])/s)*s;e[0]-=o,e[2]-=o}return e}function qn(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];Oe(e,t);const i=M(n);if(M(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}var Fs=Object.freeze(Object.defineProperty({__proto__:null,boundingExtent:In,buffer:Ln,clone:Xn,closestSquaredDistanceXY:L,containsCoordinate:Vn,containsExtent:me,containsXY:at,coordinateRelationship:_t,createEmpty:j,createOrUpdate:q,createOrUpdateEmpty:X,createOrUpdateFromCoordinate:Rt,createOrUpdateFromCoordinates:Gn,createOrUpdateFromFlatCoordinates:lt,createOrUpdateFromRings:Nn,equals:On,approximatelyEquals:Bn,extend:Dn,extendCoordinate:mt,extendCoordinates:St,extendFlatCoordinates:Tt,extendRings:Se,extendXY:Te,forEachCorner:Ie,getArea:Ae,getBottomLeft:It,getBottomRight:At,getCenter:H,getCorner:Yn,getEnlargedArea:Un,getForViewAndSize:jn,getRotatedViewport:Le,getHeight:I,getIntersectionArea:kn,getIntersection:Xe,getMargin:$n,getSize:Wn,getTopLeft:Lt,getTopRight:Xt,getWidth:M,intersects:Vt,isEmpty:ht,returnOrUpdate:Ve,scaleFromCenter:bn,intersectsSegment:Ge,applyTransform:Ne,wrapX:Oe,wrapAndSliceX:qn},Symbol.toStringTag,{value:"Module"}));function he(e,t,n){return Math.min(Math.max(e,t),n)}function Hn(e,t,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((e-n)*o+(t-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return T(e,t,n,i)}function T(e,t,n,i){const s=n-e,r=i-t;return s*s+r*r}function Es(e){const t=e.length;for(let i=0;i<t;i++){let s=i,r=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=e[s];e[s]=e[i],e[i]=o;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let h=i;h<t+1;h++)i==h?e[a][h]=0:e[a][h]+=l*e[i][h]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function ue(e){return e*180/Math.PI}function $(e){return e*Math.PI/180}function Kn(e,t){const n=e%t;return n*t<0?n+t:n}function Gt(e,t,n){return e+n*(t-e)}function Nt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function vs(e,t){return Math.round(Nt(e,t))}function xs(e,t){return Math.floor(Nt(e,t))}function Ms(e,t){return Math.ceil(Nt(e,t))}function Ps(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Rs(e,t){const n=t.getRadius(),i=t.getCenter(),s=i[0],r=i[1],o=e[0],a=e[1];let l=o-s;const h=a-r;l===0&&h===0&&(l=1);const u=Math.sqrt(l*l+h*h),c=s+n*l/u,f=r+n*h/u;return[c,f]}function zn(e,t){const n=e[0],i=e[1],s=t[0],r=t[1],o=s[0],a=s[1],l=r[0],h=r[1],u=l-o,c=h-a,f=u===0&&c===0?0:(u*(n-o)+c*(i-a))/(u*u+c*c||0);let d,g;return f<=0?(d=o,g=a):f>=1?(d=l,g=h):(d=o+f*u,g=a+f*c),[d,g]}function Zn(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function ms(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function Ss(e,t){return e[0]*=t,e[1]*=t,e}function Be(e,t){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function Ts(e,t){return Math.sqrt(Be(e,t))}function Is(e,t){return Be(e,zn(e,t))}function As(e,t){if(t.canWrapX()){const n=M(t.getExtent()),i=De(e,t,n);i&&(e[0]-=i*n)}return e}function De(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||M(i),s=Math.floor((e[0]-i[0])/n)),s}const Ye=63710088e-1;function ce(e,t,n){n=n||Ye;const i=$(e[1]),s=$(t[1]),r=(s-i)/2,o=$(t[0]-e[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Jn(e,t,n,i){i=i||Ye;const s=$(e[1]),r=$(e[0]),o=t/i,a=Math.asin(Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(n)),l=r+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(s),Math.cos(o)-Math.sin(s)*Math.sin(a));return[ue(l),ue(a)]}const Ue={info:1,warn:2,error:3,none:4};let Qn=Ue.info;function ti(...e){Qn>Ue.warn||console.warn(...e)}let Ct=!0;function Ls(e){Ct=!(e===void 0?!0:e)}function Ot(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function je(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function ei(e){Sn(e.getCode(),e),U(e,e,Ot)}function ni(e){e.forEach(ei)}function F(e){return typeof e=="string"?mn(e):e||null}function Xs(e,t,n,i){e=F(e);let s;const r=e.getPointResolutionFunc();if(r){if(s=r(t,n),i&&i!==e.getUnits()){const o=e.getMetersPerUnit();o&&(s=s*o/pt[i])}}else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=Bt(e,F("EPSG:4326"));if(a===je&&o!=="degrees")s=t*e.getMetersPerUnit();else{let h=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];h=a(h,h,2);const u=ce(h.slice(0,2),h.slice(2,4)),c=ce(h.slice(4,6),h.slice(6,8));s=(u+c)/2}const l=i?pt[i]:e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function fe(e){ni(e),e.forEach(function(t){e.forEach(function(n){t!==n&&U(t,n,Ot)})})}function ii(e,t,n,i){e.forEach(function(s){t.forEach(function(r){U(s,r,n),U(r,s,i)})})}function Vs(e,t){return e?typeof e=="string"?F(e):e:F(t)}function de(e){return function(t,n,i){const s=t.length;i=i!==void 0?i:2,n=n!==void 0?n:new Array(s);for(let r=0;r<s;r+=i){const o=e(t.slice(r,r+i)),a=o.length;for(let l=0,h=i;l<h;++l)n[r+l]=l>=a?t[r+l]:o[l]}return n}}function Gs(e,t,n,i){const s=F(e),r=F(t);U(s,r,de(n)),U(r,s,de(i))}function ke(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Bt(e,t)===Ot)&&n}function Bt(e,t){const n=e.getCode(),i=t.getCode();let s=Tn(n,i);return s||(s=je),s}function Q(e,t){const n=F(e),i=F(t);return Bt(n,i)}function Ns(e,t,n){return Q(t,n)(e,void 0,e.length)}function si(e,t,n,i){const s=Q(t,n);return Ne(e,s,void 0,i)}function Os(e,t){return e}function Bs(e,t){return Ct&&!Zn(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Ct=!1,ti("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Ds(e,t){return e}function Ys(e,t){return e}function Us(e,t){return e}function js(e,t,n){return function(i){let s,r;if(e.canWrapX()){const o=e.getExtent(),a=M(o);i=i.slice(0),r=De(i,e,a),r&&(i[0]=i[0]-r*a),i[0]=he(i[0],o[0],o[2]),i[1]=he(i[1],o[1],o[3]),s=n(i)}else s=n(i);return r&&t.canWrapX()&&(s[0]+=r*M(t.getExtent())),s}}function ri(){fe(oe),fe(le),ii(le,oe,xn,Mn)}ri();class oi{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let i=n.dataProjection?F(n.dataProjection):this.readProjection(t);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=F(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return C()}readFeature(t,n){return C()}readFeatures(t,n){return C()}readGeometry(t,n){return C()}readProjection(t){return C()}writeFeature(t,n){return C()}writeFeatures(t,n){return C()}writeGeometry(t,n){return C()}}var ai=oi;function li(e,t,n){const i=n?F(n.featureProjection):null,s=n?F(n.dataProjection):null;let r;if(i&&s&&!ke(i,s)?r=(t?e.clone():e).transform(t?i:s,t?s:i):r=e,t&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),a=function(l){for(let h=0,u=l.length;h<u;++h)l[h]=Math.round(l[h]*o)/o;return l};r===e&&(r=e.clone()),r.applyTransform(a)}return r}function ks(e,t){const n=t?F(t.featureProjection):null,i=t?F(t.dataProjection):null;return n&&i&&!ke(n,i)?si(e,i,n):e}const R=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",$s=R.includes("firefox"),hi=R.includes("safari")&&!R.includes("chrom"),Ws=hi&&(R.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(R)),bs=R.includes("webkit")&&!R.includes("edge"),qs=R.includes("macintosh"),Hs=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,ui=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,Ks=typeof Image!="undefined"&&Image.prototype.decode,zs=typeof createImageBitmap=="function",Zs=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),Dt=new Array(6);function $e(){return[1,0,0,1,0,0]}function Js(e){return K(e,1,0,0,1,0,0)}function Yt(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=t[0],h=t[1],u=t[2],c=t[3],f=t[4],d=t[5];return e[0]=n*l+s*h,e[1]=i*l+r*h,e[2]=n*u+s*c,e[3]=i*u+r*c,e[4]=n*f+s*d+o,e[5]=i*f+r*d+a,e}function K(e,t,n,i,s,r,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e[4]=r,e[5]=o,e}function Qs(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function tr(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function er(e,t){const n=Math.cos(t),i=Math.sin(t);return Yt(e,K(Dt,n,i,-i,n,0,0))}function nr(e,t,n){return Yt(e,K(Dt,t,0,0,n,0,0))}function ir(e,t,n){return K(e,t,0,0,n,0,0)}function sr(e,t,n){return Yt(e,K(Dt,1,0,0,1,t,n))}function We(e,t,n,i,s,r,o,a){const l=Math.sin(r),h=Math.cos(r);return e[0]=i*h,e[1]=s*l,e[2]=-i*l,e[3]=s*h,e[4]=o*i*h-a*i*l+t,e[5]=o*s*l+a*s*h+n,e}function rr(e,t){const n=ci(t);wn(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-s/n,e[2]=-r/n,e[3]=i/n,e[4]=(r*l-o*a)/n,e[5]=-(i*l-s*a)/n,e}function ci(e){return e[0]*e[3]-e[1]*e[2]}let ge;function or(e){const t="matrix("+e.join(", ")+")";if(ui)return t;const n=ge||(ge=document.createElement("div"));return n.style.transform=t,n.style.transform}function Ut(e,t,n,i,s,r){r=r||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],h=e[a+1];r[o++]=s[0]*l+s[2]*h+s[4],r[o++]=s[1]*l+s[3]*h+s[5]}return r&&r.length!=o&&(r.length=o),r}function fi(e,t,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),h=r[0],u=r[1];let c=0;for(let f=t;f<n;f+=i){const d=e[f]-h,g=e[f+1]-u;o[c++]=h+d*a-g*l,o[c++]=u+d*l+g*a;for(let p=f+2;p<f+i;++p)o[c++]=e[p]}return o&&o.length!=c&&(o.length=c),o}function di(e,t,n,i,s,r,o,a){a=a||[];const l=o[0],h=o[1];let u=0;for(let c=t;c<n;c+=i){const f=e[c]-l,d=e[c+1]-h;a[u++]=l+s*f,a[u++]=h+r*d;for(let g=c+2;g<c+i;++g)a[u++]=e[g]}return a&&a.length!=u&&(a.length=u),a}function gi(e,t,n,i,s,r,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+s,o[a++]=e[l+1]+r;for(let h=l+2;h<l+i;++h)o[a++]=e[h]}return o&&o.length!=a&&(o.length=a),o}const pe=$e();class pi extends Cn{constructor(){super(),this.extent_=j(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=hn(function(t,n,i){if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return C()}closestPointXY(t,n,i,s){return C()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return C()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&X(n),this.extentRevision_=this.getRevision()}return Ve(this.extent_,t)}rotate(t,n){C()}scale(t,n,i){C()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return C()}getType(){return C()}applyTransform(t){C()}intersectsExtent(t){return C()}translate(t,n){C()}transform(t,n){const i=F(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),h=i.getWorldExtent(),u=I(h)/I(l);return We(pe,h[0],h[3],u,-u,0,0,0),Ut(r,0,r.length,a,pe,o),Q(i,n)(r,o,a)}:Q(i,n);return this.applyTransform(s),this}}var yi=pi;class _i extends yi{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return C()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=ye(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){C()}setLayout(t,n,i){let s;if(t)s=ye(t);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=Ci(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();fi(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=H(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();di(s,0,s.length,r,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();gi(i,0,i.length,s,t,n,i),this.changed()}}}function Ci(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function ye(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function ar(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const s=e.getStride();return Ut(i,0,i.length,s,t,n)}var V=_i;function _e(e,t,n,i,s,r,o){const a=e[t],l=e[t+1],h=e[n]-a,u=e[n+1]-l;let c;if(h===0&&u===0)c=t;else{const f=((s-a)*h+(r-l)*u)/(h*h+u*u);if(f>1)c=n;else if(f>0){for(let d=0;d<i;++d)o[d]=Gt(e[t+d],e[n+d],f);o.length=i;return}else c=t}for(let f=0;f<i;++f)o[f]=e[c+f];o.length=i}function jt(e,t,n,i,s){let r=e[t],o=e[t+1];for(t+=i;t<n;t+=i){const a=e[t],l=e[t+1],h=T(r,o,a,l);h>s&&(s=h),r=a,o=l}return s}function kt(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=jt(e,t,a,i,s),t=a}return s}function wi(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=kt(e,t,a,i,s),t=a[a.length-1]}return s}function $t(e,t,n,i,s,r,o,a,l,h,u){if(t==n)return h;let c,f;if(s===0){if(f=T(o,a,e[t],e[t+1]),f<h){for(c=0;c<i;++c)l[c]=e[t+c];return l.length=i,f}return h}u=u||[NaN,NaN];let d=t+i;for(;d<n;)if(_e(e,d-i,d,i,o,a,u),f=T(o,a,u[0],u[1]),f<h){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(h))/s|0,1);if(r&&(_e(e,n-i,t,i,o,a,u),f=T(o,a,u[0],u[1]),f<h)){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i}return h}function Wt(e,t,n,i,s,r,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=n.length;c<f;++c){const d=n[c];h=$t(e,t,d,i,s,r,o,a,l,h,u),t=d}return h}function Fi(e,t,n,i,s,r,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=n.length;c<f;++c){const d=n[c];h=Wt(e,t,d,i,s,r,o,a,l,h,u),t=d[d.length-1]}return h}function Ei(e,t,n,i){for(let s=0,r=n.length;s<r;++s)e[t++]=n[s];return t}function ut(e,t,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function bt(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=ut(e,t,n[o],i);s[r++]=l,t=l}return s.length=r,s}function vi(e,t,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=bt(e,t,n[o],i,s[r]);l.length===0&&(l[0]=t),s[r++]=l,t=l[l.length-1]}return s.length=r,s}function qt(e,t,n,i,s,r,o){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)r[o++]=e[t],r[o++]=e[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const h=[t,n-i];let u=0;for(;h.length>0;){const c=h.pop(),f=h.pop();let d=0;const g=e[f],p=e[f+1],_=e[c],v=e[c+1];for(let E=f+i;E<c;E+=i){const dt=e[E],k=e[E+1],ee=Hn(dt,k,g,p,_,v);ee>d&&(u=E,d=ee)}d>s&&(l[(u-t)/i]=1,f+i<u&&h.push(f,u),u+i<c&&h.push(u,c))}for(let c=0;c<a;++c)l[c]&&(r[o++]=e[t+c*i],r[o++]=e[t+c*i+1]);return o}function xi(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=qt(e,t,u,i,s,r,o),a.push(o),t=u}return o}function N(e,t){return t*Math.round(e/t)}function Mi(e,t,n,i,s,r,o){if(t==n)return o;let a=N(e[t],s),l=N(e[t+1],s);t+=i,r[o++]=a,r[o++]=l;let h,u;do if(h=N(e[t],s),u=N(e[t+1],s),t+=i,t==n)return r[o++]=h,r[o++]=u,o;while(h==a&&u==l);for(;t<n;){const c=N(e[t],s),f=N(e[t+1],s);if(t+=i,c==h&&f==u)continue;const d=h-a,g=u-l,p=c-a,_=f-l;if(d*_==g*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(g<0&&_<g||g==_||g>0&&_>g)){h=c,u=f;continue}r[o++]=h,r[o++]=u,a=h,l=u,h=c,u=f}return r[o++]=h,r[o++]=u,o}function be(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=Mi(e,t,u,i,s,r,o),a.push(o),t=u}return o}function Pi(e,t,n,i,s,r,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l],c=[];o=be(e,t,u,i,s,r,o,c),a.push(c),t=u[u.length-1]}return o}function qe(e,t,n,i,s){let r;for(t+=i;t<n;t+=i)if(r=s(e.slice(t-i,t),e.slice(t,t+i)),r)return r;return!1}function ct(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=t;o<n;o+=i)s[r++]=e.slice(o,o+i);return s.length=r,s}function Ht(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=ct(e,t,l,i,s[r]),t=l}return s.length=r,s}function Ri(e,t,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=l.length===1&&l[0]===t?[]:Ht(e,t,l,i,s[r]),t=l[l.length-1]}return s.length=r,s}function tt(e,t,n,i,s,r,o){let a,l;const h=(n-t)/i;if(h===1)a=t;else if(h===2)a=t,l=s;else if(h!==0){let u=e[t],c=e[t+1],f=0;const d=[0];for(let _=t+i;_<n;_+=i){const v=e[_],E=e[_+1];f+=Math.sqrt((v-u)*(v-u)+(E-c)*(E-c)),d.push(f),u=v,c=E}const g=s*f,p=an(d,g);p<0?(l=(g-d[-p-2])/(d[-p-1]-d[-p-2]),a=t+(-p-2)*i):a=t+p*i}o=o>1?o:2,r=r||new Array(o);for(let u=0;u<o;++u)r[u]=a===void 0?NaN:l===void 0?e[a+u]:Gt(e[a+u],e[a+i+u],l);return r}function wt(e,t,n,i,s,r){if(n==t)return null;let o;if(s<e[t+i-1])return r?(o=e.slice(t,t+i),o[i-1]=s,o):null;if(e[n-1]<s)return r?(o=e.slice(n-i,n),o[i-1]=s,o):null;if(s==e[t+i-1])return e.slice(t,t+i);let a=t/i,l=n/i;for(;a<l;){const f=a+l>>1;s<e[(f+1)*i-1]?l=f:a=f+1}const h=e[a*i-1];if(s==h)return e.slice((a-1)*i,(a-1)*i+i);const u=e[(a+1)*i-1],c=(s-h)/(u-h);o=[];for(let f=0;f<i-1;++f)o.push(Gt(e[(a-1)*i+f],e[a*i+f],c));return o.push(s),o}function mi(e,t,n,i,s,r,o){if(o)return wt(e,t,n[n.length-1],i,s,r);let a;if(s<e[i-1])return r?(a=e.slice(0,i),a[i-1]=s,a):null;if(e[e.length-1]<s)return r?(a=e.slice(e.length-i),a[i-1]=s,a):null;for(let l=0,h=n.length;l<h;++l){const u=n[l];if(t!=u){if(s<e[t+i-1])return null;if(s<=e[u-1])return wt(e,t,u,i,s,!1);t=u}}return null}function Si(e,t,n,i,s){return!Ie(s,function(o){return!S(e,t,n,i,o[0],o[1])})}function S(e,t,n,i,s,r){let o=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const h=e[t],u=e[t+1];l<=r?u>r&&(h-a)*(r-l)-(s-a)*(u-l)>0&&o++:u<=r&&(h-a)*(r-l)-(s-a)*(u-l)<0&&o--,a=h,l=u}return o!==0}function Kt(e,t,n,i,s,r){if(n.length===0||!S(e,t,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(S(e,n[o-1],n[o],i,s,r))return!1;return!0}function Ti(e,t,n,i,s,r){if(n.length===0)return!1;for(let o=0,a=n.length;o<a;++o){const l=n[o];if(Kt(e,t,l,i,s,r))return!0;t=l[l.length-1]}return!1}function ft(e,t,n,i,s){const r=Tt(j(),e,t,n,i);return Vt(s,r)?me(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:qe(e,t,n,i,function(o,a){return Ge(s,o,a)}):!1}function Ii(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){if(ft(e,t,n[r],i,s))return!0;t=n[r]}return!1}function Ai(e,t,n,i,s){return!!(ft(e,t,n,i,s)||S(e,t,n,i,s[0],s[1])||S(e,t,n,i,s[0],s[3])||S(e,t,n,i,s[2],s[1])||S(e,t,n,i,s[2],s[3]))}function He(e,t,n,i,s){if(!Ai(e,t,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,o=n.length;r<o;++r)if(Si(e,n[r-1],n[r],i,s)&&!ft(e,n[r-1],n[r],i,s))return!1;return!0}function Li(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];if(He(e,t,a,i,s))return!0;t=a[a.length-1]}return!1}function Xi(e,t,n,i){let s=e[t],r=e[t+1],o=0;for(let a=t+i;a<n;a+=i){const l=e[a],h=e[a+1];o+=Math.sqrt((l-s)*(l-s)+(h-r)*(h-r)),s=l,r=h}return o}class et extends V{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){this.flatCoordinates?x(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new et(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<L(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$t(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,i,s))}forEachSegment(t){return qe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,wt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return ct(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return tt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return Xi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new et(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return ft(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ut(this.flatCoordinates,0,t,this.stride),this.changed()}}var Ft=et;function Ke(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=o*a-r*l,r=a,o=l}return s/2}function ze(e,t,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=Ke(e,t,a,i),t=a}return s}function Vi(e,t,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=ze(e,t,a,i),t=a[a.length-1]}return s}class nt extends V{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new nt(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,s){return s<L(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$t(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,s))}getArea(){return Ke(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ct(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=qt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new nt(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ut(this.flatCoordinates,0,t,this.stride),this.changed()}}var Ce=nt;class it extends V{constructor(t,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,t),this.ends_=i;else{let s=this.getLayout();const r=t,o=[],a=[];for(let l=0,h=r.length;l<h;++l){const u=r[l];l===0&&(s=u.getLayout()),x(o,u.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(s,o),this.ends_=a}}appendLineString(t){this.flatCoordinates?x(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new it(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<L(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,i,s))}getCoordinateAtM(t,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,mi(this.flatCoordinates,0,this.ends_,this.stride,t,n,i))}getCoordinates(){return Ht(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new Ft(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,n=this.ends_,i=this.layout,s=[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o],h=new Ft(t.slice(r,l),i);s.push(h),r=l}return s}getFlatMidpoints(){const t=[],n=this.flatCoordinates;let i=0;const s=this.ends_,r=this.stride;for(let o=0,a=s.length;o<a;++o){const l=s[o],h=tt(n,i,l,r,.5);x(t,h),i=l}return t}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=xi(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new it(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(t){return Ii(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=bt(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var Gi=it;class zt extends V{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new zt(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const r=this.flatCoordinates,o=T(t,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return Rt(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return at(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ei(this.flatCoordinates,0,t,this.stride),this.changed()}}var st=zt;class Zt extends V{constructor(t,n){super(),n&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendPoint(t){this.flatCoordinates?x(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new Zt(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){if(s<L(this.getExtent(),t,n))return s;const r=this.flatCoordinates,o=this.stride;for(let a=0,l=r.length;a<l;a+=o){const h=T(t,n,r[a],r[a+1]);if(h<s){s=h;for(let u=0;u<o;++u)i[u]=r[a+u];i.length=o}}return s}getCoordinates(){return ct(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||n<=t?null:new st(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,n=this.layout,i=this.stride,s=[];for(let r=0,o=t.length;r<o;r+=i){const a=new st(t.slice(r,r+i),n);s.push(a)}return s}getType(){return"MultiPoint"}intersectsExtent(t){const n=this.flatCoordinates,i=this.stride;for(let s=0,r=n.length;s<r;s+=i){const o=n[s],a=n[s+1];if(at(t,o,a))return!0}return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ut(this.flatCoordinates,0,t,this.stride),this.changed()}}var Ze=Zt;function Jt(e,t,n,i,s,r,o){let a,l,h,u,c,f,d;const g=s[r+1],p=[];for(let E=0,dt=n.length;E<dt;++E){const k=n[E];for(u=e[k-i],f=e[k-i+1],a=t;a<k;a+=i)c=e[a],d=e[a+1],(g<=f&&d<=g||f<=g&&g<=d)&&(h=(g-f)/(d-f)*(c-u)+u,p.push(h)),u=c,f=d}let _=NaN,v=-1/0;for(p.sort(Mt),u=p[0],a=1,l=p.length;a<l;++a){c=p[a];const E=Math.abs(c-u);E>v&&(h=(u+c)/2,Kt(e,t,n,i,h,g)&&(_=h,v=E)),u=c}return isNaN(_)&&(_=s[r]),o?(o.push(_,g,v),o):[_,g,v]}function Je(e,t,n,i,s){let r=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];r=Jt(e,t,l,i,s,2*o,r),t=l[l.length-1]}return r}function Ni(e,t,n,i){for(;t<n-i;){for(let s=0;s<i;++s){const r=e[t+s];e[t+s]=e[n-i+s],e[n-i+s]=r}t+=i,n-=i}}function Qt(e,t,n,i){let s=0,r=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function Qe(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Qt(e,t,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;t=a}return!0}function Oi(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];if(!Qe(e,t,a,i,s))return!1;a.length&&(t=a[a.length-1])}return!0}function Et(e,t,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=Qt(e,t,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&Ni(e,t,a,i),t=a}return t}function we(e,t,n,i,s){for(let r=0,o=n.length;r<o;++r)t=Et(e,t,n[r],i,s);return t}function Bi(e,t){const n=[];let i=0,s=0;for(let r=0,o=t.length;r<o;++r){const a=t[r];if(!Qt(e,i,a,2))n.push(t.slice(s,r+1));else{if(n.length===0)continue;n[n.length-1].push(t[s])}s=r+1,i=a}return n}class A extends V{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?x(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new A(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<L(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wt(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return Kt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return ze(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Et(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Ht(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=H(this.getExtent());this.flatInteriorPoint_=Jt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new st(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Ce(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],h=new Ce(n.slice(r,l),t);s.push(h),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Qe(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Et(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=be(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new A(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return He(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=bt(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}var vt=A;function lr(e,t,n,i){n=n||32;const s=[];for(let r=0;r<n;++r)x(s,Jn(e,t,2*Math.PI*r/n,i));return s.push(s[0],s[1]),new A(s,"XY",[s.length])}function hr(e){if(ht(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],s=e[3],r=[t,n,t,s,i,s,i,n,t,n];return new A(r,"XY",[r.length])}function ur(e,t,n){t=t||32;const i=e.getStride(),s=e.getLayout(),r=e.getCenter(),o=i*(t+1),a=new Array(o);for(let u=0;u<o;u+=i){a[u]=0,a[u+1]=0;for(let c=2;c<i;c++)a[u+c]=r[c]}const l=[a.length],h=new A(a,s,l);return Di(h,r,e.getRadius(),n),h}function Di(e,t,n,i){const s=e.getFlatCoordinates(),r=e.getStride(),o=s.length/r-1,a=i||0;for(let l=0;l<=o;++l){const h=l*r,u=a+Kn(l,o)*2*Math.PI/o;s[h]=t[0]+n*Math.cos(u),s[h+1]=t[1]+n*Math.sin(u)}e.changed()}function tn(e,t,n,i){const s=[];let r=j();for(let o=0,a=n.length;o<a;++o){const l=n[o];r=lt(e,t,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),t=l[l.length-1]}return s}class rt extends V{constructor(t,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let s=this.getLayout();const r=t,o=[],a=[];for(let l=0,h=r.length;l<h;++l){const u=r[l];l===0&&(s=u.getLayout());const c=o.length,f=u.getEnds();for(let d=0,g=f.length;d<g;++d)f[d]+=c;x(o,u.getFlatCoordinates()),a.push(f)}n=s,t=o,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,t),this.endss_=i):this.setCoordinates(t,n)}appendPolygon(t){let n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;x(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(let s=0,r=n.length;s<r;++s)n[s]+=i}this.endss_.push(n),this.changed()}clone(){const t=this.endss_.length,n=new Array(t);for(let s=0;s<t;++s)n[s]=this.endss_[s].slice();const i=new rt(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(t,n,i,s){return s<L(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wi(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return Ti(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)}getArea(){return Vi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),we(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,Ri(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=tn(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Je(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ze(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Oi(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=we(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=Pi(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new rt(n,"XY",i)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let n;if(t===0)n=0;else{const r=this.endss_[t-1];n=r[r.length-1]}const i=this.endss_[t].slice(),s=i[i.length-1];if(n!==0)for(let r=0,o=i.length;r<o;++r)i[r]-=n;return new vt(this.flatCoordinates.slice(n,s),this.layout,i)}getPolygons(){const t=this.layout,n=this.flatCoordinates,i=this.endss_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o].slice(),h=l[l.length-1];if(r!==0)for(let c=0,f=l.length;c<f;++c)l[c]-=r;const u=new vt(n.slice(r,h),t,l);s.push(u),r=h}return s}getType(){return"MultiPolygon"}intersectsExtent(t){return Li(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=vi(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const s=i[i.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}var Yi=rt,te={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */te.read=function(e,t,n,i,s){var r,o,a=s*8-i-1,l=(1<<a)-1,h=l>>1,u=-7,c=n?s-1:0,f=n?-1:1,d=e[t+c];for(c+=f,r=d&(1<<-u)-1,d>>=-u,u+=a;u>0;r=r*256+e[t+c],c+=f,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=i;u>0;o=o*256+e[t+c],c+=f,u-=8);if(r===0)r=1-h;else{if(r===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,i),r=r-h}return(d?-1:1)*o*Math.pow(2,r-i)};te.write=function(e,t,n,i,s,r){var o,a,l,h=r*8-s-1,u=(1<<h)-1,c=u>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,g=i?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+c>=1?t+=f/l:t+=f*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=u?(a=0,o=u):o+c>=1?(a=(t*l-1)*Math.pow(2,s),o=o+c):(a=t*Math.pow(2,c-1)*Math.pow(2,s),o=0));s>=8;e[n+d]=a&255,d+=g,a/=256,s-=8);for(o=o<<s|a,h+=s;h>0;e[n+d]=o&255,d+=g,o/=256,h-=8);e[n+d-g]|=p*128};var Ui=y,Z=te;function y(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}y.Varint=0;y.Fixed64=1;y.Bytes=2;y.Fixed32=5;var xt=(1<<16)*(1<<16),Fe=1/xt,ji=12,en=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");y.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),s=i>>3,r=this.pos;this.type=i&7,e(s,t,this),this.pos===r&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=J(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=ve(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=J(this.buf,this.pos)+J(this.buf,this.pos+4)*xt;return this.pos+=8,e},readSFixed64:function(){var e=J(this.buf,this.pos)+ve(this.buf,this.pos+4)*xt;return this.pos+=8,e},readFloat:function(){var e=Z.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Z.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,i;return i=t[this.pos++],n=i&127,i<128||(i=t[this.pos++],n|=(i&127)<<7,i<128)||(i=t[this.pos++],n|=(i&127)<<14,i<128)||(i=t[this.pos++],n|=(i&127)<<21,i<128)?n:(i=t[this.pos],n|=(i&15)<<28,ki(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=ji&&en?is(this.buf,t,e):ns(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==y.Bytes)return e.push(this.readVarint(t));var n=P(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==y.Bytes)return e.push(this.readSVarint());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==y.Bytes)return e.push(this.readBoolean());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==y.Bytes)return e.push(this.readFloat());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==y.Bytes)return e.push(this.readDouble());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==y.Bytes)return e.push(this.readFixed32());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==y.Bytes)return e.push(this.readSFixed32());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==y.Bytes)return e.push(this.readFixed64());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==y.Bytes)return e.push(this.readSFixed64());var t=P(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===y.Varint)for(;this.buf[this.pos++]>127;);else if(t===y.Bytes)this.pos=this.readVarint()+this.pos;else if(t===y.Fixed32)this.pos+=4;else if(t===y.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),B(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),B(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),B(this.buf,e&-1,this.pos),B(this.buf,Math.floor(e*Fe),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),B(this.buf,e&-1,this.pos),B(this.buf,Math.floor(e*Fe),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){$i(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=ss(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Ee(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Z.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Z.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&Ee(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,y.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,qi,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Hi,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Zi,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Ki,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,zi,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Ji,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Qi,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ts,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,es,t)},writeBytesField:function(e,t){this.writeTag(e,y.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,y.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,y.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,y.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,y.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,y.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,y.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,y.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,y.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,y.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};function ki(e,t,n){var i=n.buf,s,r;if(r=i[n.pos++],s=(r&112)>>4,r<128||(r=i[n.pos++],s|=(r&127)<<3,r<128)||(r=i[n.pos++],s|=(r&127)<<10,r<128)||(r=i[n.pos++],s|=(r&127)<<17,r<128)||(r=i[n.pos++],s|=(r&127)<<24,r<128)||(r=i[n.pos++],s|=(r&1)<<31,r<128))return O(e,s,t);throw new Error("Expected varint not more than 10 bytes")}function P(e){return e.type===y.Bytes?e.readVarint()+e.pos:e.pos+1}function O(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function $i(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(n=~(-e%4294967296),i=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,i=i+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),Wi(n,i,t),bi(i,t)}function Wi(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function bi(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function Ee(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(i);for(var s=n.pos-1;s>=e;s--)n.buf[s+i]=n.buf[s]}function qi(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Hi(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Ki(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function zi(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Zi(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Ji(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Qi(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ts(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function es(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function J(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function B(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function ve(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function ns(e,t,n){for(var i="",s=t;s<n;){var r=e[s],o=null,a=r>239?4:r>223?3:r>191?2:1;if(s+a>n)break;var l,h,u;a===1?r<128&&(o=r):a===2?(l=e[s+1],(l&192)===128&&(o=(r&31)<<6|l&63,o<=127&&(o=null))):a===3?(l=e[s+1],h=e[s+2],(l&192)===128&&(h&192)===128&&(o=(r&15)<<12|(l&63)<<6|h&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):a===4&&(l=e[s+1],h=e[s+2],u=e[s+3],(l&192)===128&&(h&192)===128&&(u&192)===128&&(o=(r&15)<<18|(l&63)<<12|(h&63)<<6|u&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,a=1):o>65535&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),i+=String.fromCharCode(o),s+=a}return i}function is(e,t,n){return en.decode(e.subarray(t,n))}function ss(e,t,n){for(var i=0,s,r;i<t.length;i++){if(s=t.charCodeAt(i),s>55295&&s<57344)if(r)if(s<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=s;continue}else s=r-55296<<10|s-56320|65536,r=null;else{s>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=s;continue}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);s<128?e[n++]=s:(s<2048?e[n++]=s>>6|192:(s<65536?e[n++]=s>>12|224:(e[n++]=s>>18|240,e[n++]=s>>12&63|128),e[n++]=s>>6&63|128),e[n++]=s&63|128)}return n}const xe=$e();class W{constructor(t,n,i,s,r){this.styleFunction,this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=s}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Rt(this.flatCoordinates_):lt(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=H(this.getExtent());this.flatInteriorPoints_=Jt(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=tn(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Je(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=tt(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,r=i.length;s<r;++s){const o=i[s],a=tt(t,n,o,2,.5);x(this.flatMidpoints_,a),n=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=F(t);const n=t.getExtent(),i=t.getWorldExtent();if(n&&i){const s=I(i)/I(n);We(xe,i[0],i[3],s,-s,0,0,0),Ut(this.flatCoordinates_,0,this.flatCoordinates_.length,2,xe,this.flatCoordinates_)}}getEnds(){return this.ends_}}W.prototype.getEndss=W.prototype.getEnds;W.prototype.getFlatCoordinates=W.prototype.getOrientedFlatCoordinates;var Me=W;class rs extends ai{constructor(t){super(),t=t||{},this.dataProjection=new Pt({code:"",units:"tile-pixels"}),this.featureClass_=t.featureClass?t.featureClass:Me,this.geometryName_=t.geometryName,this.layerName_=t.layerName?t.layerName:"layer",this.layers_=t.layers?t.layers:null,this.idProperty_=t.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(t,n,i,s){t.pos=n.geometry;const r=t.readVarint()+t.pos;let o=1,a=0,l=0,h=0,u=0,c=0;for(;t.pos<r;){if(!a){const f=t.readVarint();o=f&7,a=f>>3}if(a--,o===1||o===2)l+=t.readSVarint(),h+=t.readSVarint(),o===1&&u>c&&(s.push(u),c=u),i.push(l,h),u+=2;else if(o===7)u>c&&(i.push(i[c],i[c+1]),u+=2);else throw new Error("Invalid command found in the PBF")}u>c&&(s.push(u),c=u)}createFeature_(t,n,i){const s=n.type;if(s===0)return null;let r;const o=n.properties;let a;this.idProperty_?(a=o[this.idProperty_],delete o[this.idProperty_]):a=n.id,o[this.layerName_]=n.layer.name;const l=[],h=[];this.readRawGeometry_(t,n,l,h);const u=us(s,h.length);if(this.featureClass_===Me)r=new this.featureClass_(u,l,h,o,a),r.transform(i.dataProjection);else{let c;if(u=="Polygon"){const g=Bi(l,h);c=g.length>1?new Yi(l,"XY",g):new vt(l,"XY",h)}else c=u==="Point"?new st(l,"XY"):u==="LineString"?new Ft(l,"XY"):u==="MultiPoint"?new Ze(l,"XY"):u==="MultiLineString"?new Gi(l,"XY",h):null;const f=this.featureClass_;r=new f,this.geometryName_&&r.setGeometryName(this.geometryName_);const d=li(c,!1,i);r.setGeometry(d),a!==void 0&&r.setId(a),r.setProperties(o,!0)}return r}getType(){return"arraybuffer"}readFeatures(t,n){const i=this.layers_;n=this.adaptOptions(n);const s=F(n.dataProjection);s.setWorldExtent(n.extent),n.dataProjection=s;const r=new Ui(t),o=r.readFields(os,{}),a=[];for(const l in o){if(i&&!i.includes(l))continue;const h=o[l],u=h?[0,0,h.extent,h.extent]:null;s.setExtent(u);for(let c=0,f=h.length;c<f;++c){const d=hs(r,h,c),g=this.createFeature_(r,d,n);g!==null&&a.push(g)}}return a}readProjection(t){return this.dataProjection}setLayers(t){this.layers_=t}}function os(e,t,n){if(e===3){const i={keys:[],values:[],features:[]},s=n.readVarint()+n.pos;n.readFields(as,i,s),i.length=i.features.length,i.length&&(t[i.name]=i)}}function as(e,t,n){if(e===15)t.version=n.readVarint();else if(e===1)t.name=n.readString();else if(e===5)t.extent=n.readVarint();else if(e===2)t.features.push(n.pos);else if(e===3)t.keys.push(n.readString());else if(e===4){let i=null;const s=n.readVarint()+n.pos;for(;n.pos<s;)e=n.readVarint()>>3,i=e===1?n.readString():e===2?n.readFloat():e===3?n.readDouble():e===4?n.readVarint64():e===5?n.readVarint():e===6?n.readSVarint():e===7?n.readBoolean():null;t.values.push(i)}}function ls(e,t,n){if(e==1)t.id=n.readVarint();else if(e==2){const i=n.readVarint()+n.pos;for(;n.pos<i;){const s=t.layer.keys[n.readVarint()],r=t.layer.values[n.readVarint()];t.properties[s]=r}}else e==3?t.type=n.readVarint():e==4&&(t.geometry=n.pos)}function hs(e,t,n){e.pos=t.features[n];const i=e.readVarint()+e.pos,s={layer:t,type:0,properties:{}};return e.readFields(ls,s,i),s}function us(e,t){let n;return e===1?n=t===1?"Point":"MultiPoint":e===2?n=t===1?"LineString":"MultiLineString":e===3&&(n="Polygon"),n}var cr=rs;export{_s as $,yn as A,Re as B,zs as C,$ as D,dn as E,ai as F,yi as G,Vt as H,Ks as I,Ie as J,Ei as K,Ft as L,Gi as M,fi as N,ye as O,st as P,ct as Q,In as R,V as S,cr as T,Us as U,Ys as V,ui as W,Ds as X,ys as Y,bs as Z,qs as _,wn as a,Ln as a$,je as a0,Bt as a1,lr as a2,Pe as a3,ds as a4,M as a5,I as a6,Vs as a7,Bs as a8,Kn as a9,ei as aA,Pt as aB,Tn as aC,fe as aD,Gs as aE,js as aF,Q as aG,Lt as aH,Xt as aI,At as aJ,It as aK,Ae as aL,mt as aM,j as aN,Ns as aO,Xs as aP,Vn as aQ,Es as aR,ps as aS,Ai as aT,Ms as aU,xs as aV,Yn as aW,ke as aX,Ne as aY,qn as aZ,Rt as a_,ms as aa,Ps as ab,Os as ac,jn as ad,ht as ae,hr as af,ne as ag,Zn as ah,pt as ai,Ls as aj,on as ak,We as al,rr as am,As as an,sn as ao,Xe as ap,Zs as aq,ln as ar,Ss as as,$s as at,Hs as au,$e as av,tr as aw,On as ax,Xn as ay,ti as az,C as b,vs as b0,ot as b1,or as b2,Le as b3,Mt as b4,_t as b5,w as b6,Ht as b7,Ri as b8,gs as b9,Is as bA,Rs as bB,ur as bC,Fs as bD,N as ba,Gt as bb,Ut as bc,Qs as bd,Xi as be,Nt as bf,ar as bg,ir as bh,Oe as bi,Yt as bj,ws as bk,Ws as bl,sr as bm,Js as bn,nr as bo,er as bp,fs as bq,bn as br,cs as bs,gn as bt,ce as bu,si as bv,Be as bw,Ts as bx,T as by,zn as bz,Qt as c,ut as d,me as e,Ce as f,F as g,Ze as h,un as i,Yi as j,vt as k,gt as l,L as m,X as n,Cn as o,Dn as p,H as q,x as r,ks as s,li as t,se as u,q as v,he as w,ie as x,fn as y,Cs as z};
